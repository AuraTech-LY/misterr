<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/New Element 88 [8BACFE9].png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Browser Color Meta Tags -->
    <meta name="theme-color" content="#781220" />
    <meta name="msapplication-TileColor" content="#781220" />
    <meta name="msapplication-navbutton-color" content="#781220" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    
    <title>المستر - مطعم الوجبات السريعة</title>
    
    <!-- Dynamic theme color script -->
    <script>
      /**
       * Sets the browser's theme color using the <meta name="theme-color"> tag.
       * If the tag does not exist, it will be created and appended to the <head>.
       * @param {string} color - The hexadecimal color string (e.g., "#RRGGBB").
       */
      function setThemeColor(color) {
        let metaThemeColor = document.querySelector('meta[name="theme-color"]');

        if (!metaThemeColor) {
          // If the meta tag doesn't exist, create it
          metaThemeColor = document.createElement('meta');
          metaThemeColor.setAttribute('name', 'theme-color');
          document.head.appendChild(metaThemeColor);
        }
        
        // Set or update the content attribute with the new color
        metaThemeColor.setAttribute('content', color);
        console.log('Browser theme color set to:', color);
      }

      /**
       * Determines the appropriate theme color based on the current URL path
       * and then calls setThemeColor to apply it.
       */
      function updateThemeColorBasedOnPath() {
        const path = window.location.pathname;
        let colorToSet = '#781220'; // Default مستر شيش color

        if (path.includes('/sheesh') || path.includes('/shish')) {
          colorToSet = '#781220'; // مستر شيش brand color
        } else if (path.includes('/krispy') || path.includes('/crispy')) {
          colorToSet = '#55421A'; // مستر كريسبي brand color
        } else if (path.includes('/burgerito')) {
          colorToSet = '#E59F49'; // مستر برجريتو brand color
        }

        setThemeColor(colorToSet);
      }

      /**
       * Updates theme color based on selected restaurant data
       * This function can be called from React components
       */
      function updateThemeColorForRestaurant(restaurantName) {
        let colorToSet = '#781220'; // Default مستر شيش color
        
        if (restaurantName && restaurantName.includes('مستر كريسبي')) {
          colorToSet = '#55421A'; // مستر كريسبي brand color
        } else if (restaurantName && restaurantName.includes('مستر برجريتو')) {
          colorToSet = '#E59F49'; // مستر برجريتو brand color
        } else {
          colorToSet = '#781220'; // مستر شيش brand color
        }
        
        setThemeColor(colorToSet);
      }

      // Make the function globally available
      window.updateThemeColorForRestaurant = updateThemeColorForRestaurant;

      // Run the function when the DOM is fully loaded for the initial page load
      document.addEventListener('DOMContentLoaded', updateThemeColorBasedOnPath);

      // Listen for the 'popstate' event for browser navigation
      window.addEventListener('popstate', updateThemeColorBasedOnPath);

      // For React Router, we'll also need to listen for route changes
      // This will be handled by a custom event we'll dispatch from the React app
      window.addEventListener('routechange', updateThemeColorBasedOnPath);
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>